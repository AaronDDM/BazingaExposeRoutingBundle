<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" >
  <head>
    <title>ExposeRoutingBundle | A Bazinga project.</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="language" content="en" />
    <link rel="stylesheet" type="text/css" media="all" href="http://yui.yahooapis.com/2.8.0r4/build/reset/reset-min.css" />
    <link rel="stylesheet" type="text/css" media="all" href="/css/layout.css" />
    <link rel="stylesheet" type="text/css" media="all" href="/css/markdown.css" />
    <link rel="stylesheet" type="text/css" media="all" href="/css/base_syntax.css" />
    <link rel="stylesheet" type="text/css" media="all" href="/css/syntax.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  </head>
  <body>
    <div id="fond">
      <div class="dm_layout">
        <ul class="topmenu">
          <li class="first element">
            <a class="link" href="http://www.bazingaweb.fr/services">Services</a>
          </li>
          <li class="element">
            <a class="link" href="http://www.bazingaweb.fr/news">News</a>
          </li>
          <li class="element">
            <a class="link" href="http://dev.bazingaweb.fr/">Dev blog</a>
          </li>
          <li class="last element">
            <a class="link" href="http://www.bazingaweb.fr/contact-us" title="Contact us">Contact</a>
          </li>
        </ul>
        <div id="sky">
          <div id="text">
            <a href="/">
              <h2 class="title">At Bazinga,<br />we create open source projects.</h2>
            </a>
          </div>
        </div>
        <div id="cloudlimit"></div>
        <div class="ribbon">
            <a href="https://github.com/Bazinga/ExposeRoutingBundle" rel="me">Fork me on GitHub</a>
        </div>
        <div class="dm_layout_content">
            <div class="markdown">
                <h1>ExposeRoutingBundle</h1>

<p>Port of the incredible plugin <a href="https://github.com/themouette/chCmsExposeRoutingPlugin">chCmsExposeRoutingPlugin</a>.</p>

<h2>Installation</h2>

<p>Add this bundle as a submodule:</p>

<pre><code>git submodule add git://github.com/Bazinga/ExposeRoutingBundle.git vendor/bundles/Bazinga/ExposeRoutingBundle
</code></pre>

<p>Register the namespace in <code>app/autoload.php</code>:</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span><span class="c1">// app/autoload.php</span>
<span class="nv">$loader</span><span class="o">-&gt;</span><span class="na">registerNamespaces</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="c1">// ...</span>
    <span class="s1">&#39;Bazinga&#39;</span> <span class="o">=&gt;</span> <span class="nx">__DIR__</span><span class="o">.</span><span class="s1">&#39;/../vendor/bundles&#39;</span><span class="p">,</span>
<span class="p">));</span>
</code></pre>
</div>


<p>Register the bundle in <code>app/AppKernel.php</code>:</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span><span class="c1">// app/AppKernel.php</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">registerBundles</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="k">array</span><span class="p">(</span>
        <span class="c1">// ...</span>
        <span class="k">new</span> <span class="nx">Bazinga\ExposeRoutingBundle\BazingaExposeRoutingBundle</span><span class="p">(),</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>


<p>Register the routing in <code>app/config/routing.yml</code>:</p>

<div class="highlight"><pre><code class="yaml"><span class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">_bazinga_exposerouting</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">resource</span><span class="p-Indicator">:</span> <span class="s">&quot;@BazingaExposeRoutingBundle/Resources/config/routing/routing.xml&quot;</span>
</code></pre>
</div>


<p>Publish assets:</p>

<pre><code>php app/console assets:install --symlink web
</code></pre>

<h2>Usage</h2>

<p>Just add these two lines in your layout:</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;{{ asset(&#39;bundles/bazingaexposerouting/js/routing.js&#39;) }}&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;{{ path(&#39;bazinga_exposerouting_js&#39;) }}&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
</div>


<p>It's as simple as calling: <code>Routing.generate('route_id', /* your params */)</code>.</p>

<p>Imagine some route definitions:</p>

<div class="highlight"><pre><code class="yaml"><span class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">my_route_to_expose</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">/foo/{id}/bar</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>  <span class="p-Indicator">{</span> <span class="nv">_controller</span><span class="p-Indicator">:</span> <span class="nv">HelloBundle</span><span class="p-Indicator">:</span><span class="nv">Hello</span><span class="p-Indicator">:</span><span class="nv">index</span> <span class="p-Indicator">}</span>
    <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">expose</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>

<span class="l-Scalar-Plain">my_route_to_expose_with_defaults</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">/blog/{page}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">_controller</span><span class="p-Indicator">:</span> <span class="nv">AcmeBlogBundle</span><span class="p-Indicator">:</span><span class="nv">Blog</span><span class="p-Indicator">:</span><span class="nv">index</span><span class="p-Indicator">,</span> <span class="nv">page</span><span class="p-Indicator">:</span> <span class="nv">1</span> <span class="p-Indicator">}</span>
    <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">expose</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
</code></pre>
</div>


<p>You can do:</p>

<div class="highlight"><pre><code class="js"><span class="nx">Routing</span><span class="p">.</span><span class="nx">generate</span><span class="p">(</span><span class="s1">&#39;my_route_to_expose&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">10</span> <span class="p">});</span>
<span class="c1">// will result in /foo/10/bar</span>

<span class="nx">Routing</span><span class="p">.</span><span class="nx">generate</span><span class="p">(</span><span class="s1">&#39;my_route_to_expose&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span> <span class="p">});</span>
<span class="c1">// will result in /foo/10/bar?foo=bar</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">Routing</span><span class="p">.</span><span class="nx">generate</span><span class="p">(</span><span class="s1">&#39;my_route_to_expose&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span> <span class="p">}));</span>
<span class="c1">// will call /foo/10/bar?foo=bar</span>

<span class="nx">Routing</span><span class="p">.</span><span class="nx">generate</span><span class="p">(</span><span class="s1">&#39;my_route_to_expose_with_defaults&#39;</span><span class="p">);</span>
<span class="c1">// will result in /blog/1</span>

<span class="nx">Routing</span><span class="p">.</span><span class="nx">generate</span><span class="p">(</span><span class="s1">&#39;my_route_to_expose_with_defaults&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">2</span> <span class="p">});</span>
<span class="c1">// will result in /blog/2</span>

<span class="nx">Routing</span><span class="p">.</span><span class="nx">generate</span><span class="p">(</span><span class="s1">&#39;my_route_to_expose_with_defaults&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;foo&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span> <span class="p">});</span>
<span class="c1">// will result in /blog/1?foo=bar</span>

<span class="nx">Routing</span><span class="p">.</span><span class="nx">generate</span><span class="p">(</span><span class="s1">&#39;my_route_to_expose_with_defaults&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span> <span class="p">});</span>
<span class="c1">// will result in /blog/2?foo=bar</span>
</code></pre>
</div>


<p>Moreover, you can configure a list of routes to expose in <code>app/config/config.yml</code>:</p>

<div class="highlight"><pre><code class="yaml"><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">bazinga_expose_routing</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">routes_to_expose</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span> <span class="nv">route_1</span><span class="p-Indicator">,</span> <span class="nv">route_2</span><span class="p-Indicator">,</span> <span class="nv">...</span> <span class="p-Indicator">]</span>
</code></pre>
</div>


<p>These routes will be added to the exposed routes.</p>

<p>You can prevent to expose a route by configuring it as below:</p>

<div class="highlight"><pre><code class="yaml"><span class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">my_very_secret_route</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/admin</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">_controller</span><span class="p-Indicator">:</span> <span class="nv">HelloBundle</span><span class="p-Indicator">:</span><span class="nv">Admin</span><span class="p-Indicator">:</span><span class="nv">index</span> <span class="p-Indicator">}</span>
    <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">expose</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
</code></pre>
</div>


<h2>Credits</h2>

<ul>
<li>William DURAND (Bazinga) as main author.</li>
<li>Julien MUETTON (Carpe Hora) for the inspiration.</li>
</ul>



                <h2>Download</h2>
                <p>
                You can download this project in either <a href="https://github.com/Bazinga/ExposeRoutingBundle/zipball/master"><strong>zip</strong></a> or
                <a href="https://github.com/Bazinga/ExposeRoutingBundle/tarball/master"><strong>tar</strong></a> formats.
                </p>
                <p>You can also clone this project:</p>
                <pre><code>git clone git://github.com/Bazinga/ExposeRoutingBundle.git</code></pre>
            </div>
        </div>
        <div class="dm_layout_bottom">
          <p>
            <a class="link" href="http://www.bazingaweb.fr/about-us">About us</a>
            &nbsp;|&nbsp;
            <a class="link" href="http://www.bazingaweb.fr/prestations" title="Services">Services</a>
            &nbsp;|&nbsp;
            <a class="link" href="http://www.bazingaweb.fr/references" title="References">References</a>
            &nbsp;|&nbsp;
            <a class="link" href="http://www.bazingaweb.fr/terms-and-conditions">Terms and conditions</a>
            &nbsp;|&nbsp;
            <a class="link" href="http://www.bazingaweb.fr/contact" title="Contact us">Contact</a>
          </p>
          <p>
            <a href="http://www.facebook.com/bazingaFr">Our Facebook page</a>
            &nbsp;|&nbsp;
            <a href="http://www.twitter.com/bazingaFr">Follow us on Twitter</a>
            &nbsp;|&nbsp;
            <a href="/atom.xml">RSS Blog</a>
          </p>
        </div>
      </div>
    </div>
  </body>
</html>
